<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flashcards | WTP U4</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="logo">We The People</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="team.html">Team Members</a>
    <a href="practice.html">Practice Sets</a>
    <a href="evidence.html">Evidence Charts</a>
    <a href="flashcards.html" class="active">Flashcards</a>
    <a href="quizzes.html">Quizzes</a>
    <a href="about.html">About</a>
  </nav>
</header>

<main>
  <h1>Flashcards</h1>
  <p>Click the card to flip it. Use arrows to move.</p>

  <section class="flashcard-wrapper">
    <button id="prev" class="btn-navy">←</button>

    <div class="flashcard">
      <div class="card-inner" id="card-inner">
        <div class="card-front" id="card-front"></div>
        <div class="card-back" id="card-back"></div>
      </div>
    </div>

    <button id="next" class="btn-navy">→</button>
  </section>
</main>

<script>
  const baseFlashcards = [
    { question: "What year was the U.S. Constitution ratified?", answer: "1787", hard: false },
    { question: "Which branch can declare war?", answer: "Legislative", hard: false },
    { question: "Who wrote the Federalist Papers?", answer: "Madison, Hamilton, Jay", hard: false }
  ];

  let deck = [];
  let index = 0;

  const front = document.getElementById("card-front");
  const back = document.getElementById("card-back");
  const inner = document.getElementById("card-inner");

  const progress = document.createElement("p");
  progress.id = "progress";
  document.querySelector("main").appendChild(progress);

  const hardBtn = document.createElement("button");
  hardBtn.textContent = "★ Mark as Hard";
  hardBtn.className = "btn-red";
  document.querySelector(".flashcard-wrapper").appendChild(hardBtn);

  function buildDeck() {
    deck = [];
    baseFlashcards.forEach(card => {
      deck.push(card);
      if (card.hard) {
        deck.push(card, card); // appear more often
      }
    });
  }

  function loadCard() {
    inner.classList.remove("flipped");
    const card = deck[index];
    front.textContent = card.question;
    back.textContent = card.answer;
    progress.textContent = `Card ${index + 1} / ${deck.length}`;
    hardBtn.textContent = card.hard ? "★ Hard (click to unmark)" : "☆ Mark as Hard";
  }

  document.querySelector(".flashcard").addEventListener("click", () => {
    inner.classList.toggle("flipped");
  });

  document.getElementById("next").addEventListener("click", () => {
    index = (index + 1) % deck.length;
    loadCard();
  });

  document.getElementById("prev").addEventListener("click", () => {
    index = (index - 1 + deck.length) % deck.length;
    loadCard();
  });

  hardBtn.addEventListener("click", () => {
    deck[index].hard = !deck[index].hard;
    buildDeck();
    index = 0;
    loadCard();
  });

  // Keyboard controls
  document.addEventListener("keydown", e => {
    if (e.key === "ArrowRight") document.getElementById("next").click();
    if (e.key === "ArrowLeft") document.getElementById("prev").click();
    if (e.key === " ") {
      e.preventDefault();
      inner.classList.toggle("flipped");
    }
  });

  buildDeck();
  loadCard();
</script>

</body>
</html>
